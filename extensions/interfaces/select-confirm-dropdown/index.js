import{defineComponent as e,ref as t,resolveComponent as l,openBlock as o,createElementBlock as a,Fragment as n,createBlock as i,withCtx as r,createTextVNode as d,toDisplayString as s,createSlots as c,createVNode as p,createElementVNode as u,createCommentVNode as f}from"vue";const h=["innerHTML"];var m=e({__name:"select-dropdown",props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:null},choices:{type:Array,default:null},icon:{type:String,default:null},allowNone:{type:Boolean,default:!1},placeholder:{type:String,default:null},yesButtonText:{type:String,default:null},noButtonText:{type:String,default:null},allowOther:{type:Boolean,default:!1}},emits:["input"],setup(e,{emit:m}){const y=e,v=t(!1),w=t(""),_=t(""),g=y.value;_.value=y.value;const b=()=>{_.value=g,m("input",g),v.value=!1},x=()=>{m("input",_.value),v.value=!1};return(t,m)=>{const g=l("v-notice"),$=l("v-icon"),B=l("v-select"),T=l("v-card-text"),M=l("v-button"),k=l("v-card-actions"),S=l("v-card"),C=l("v-dialog");return o(),a(n,null,[e.choices?(o(),i(B,{key:1,"model-value":_.value,items:e.choices,disabled:e.disabled,"show-deselect":e.allowNone,placeholder:e.placeholder,"allow-other":e.allowOther,"onUpdate:modelValue":m[0]||(m[0]=e=>{(e=>{try{for(let t=0;t<y.choices.length;t++){const l=y.choices[t];l.confirmMessage&&l.confirmMessage.trim().length&&e==l.value&&(w.value=l.confirmMessage.trim(),v.value=!0)}_.value=e}catch(e){console.log(e)}})(e)})},c({_:2},[e.icon?{name:"prepend",fn:r((()=>[p($,{name:e.icon},null,8,["name"])])),key:"0"}:void 0]),1032,["model-value","items","disabled","show-deselect","placeholder","allow-other"])):(o(),i(g,{key:0,type:"warning"},{default:r((()=>[d(s(t.t("choices_option_configured_incorrectly")),1)])),_:1})),p(C,{modelValue:v.value,"onUpdate:modelValue":m[1]||(m[1]=e=>v.value=e),onEsc:b},{default:r((()=>[p(S,null,{default:r((()=>[p(T,null,{default:r((()=>[u("div",{innerHTML:w.value},null,8,h)])),_:1}),p(k,null,{default:r((()=>[e.noButtonText?(o(),i(M,{key:0,secondary:"",onClick:b},{default:r((()=>[d(s(e.noButtonText),1)])),_:1})):f("v-if",!0),e.yesButtonText?(o(),i(M,{key:1,onClick:x},{default:r((()=>[d(s(e.yesButtonText),1)])),_:1})):f("v-if",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}});m.__file="src/select-dropdown.vue";var y={id:"select-confirm-dropdown",name:"Select Confirm Dropdown",description:"Confirmation Message for particular options",icon:"arrow_drop_down_circle",component:m,types:["string","integer","float","bigInteger"],group:"selection",options:({field:e})=>[{field:"choices",type:"json",name:"$t:choices",meta:{width:"full",interface:"list",options:{placeholder:"$t:interfaces.select-dropdown.choices_placeholder",template:"{{ text }}",fields:[{field:"text",type:"string",name:"$t:text",meta:{interface:"system-input-translated-string",width:"half",options:{placeholder:"$t:interfaces.select-dropdown.choices_name_placeholder"}}},{field:"value",type:e.type,name:"$t:value",meta:{interface:"input",options:{font:"monospace",placeholder:"$t:interfaces.select-dropdown.choices_value_placeholder"},width:"half"}},{field:"confirmMessage",type:e.type,name:"Confirmation Message",meta:{interface:"input",options:{font:"monospace",placeholder:"This messaged will be popped-up for confirmation"},width:"full"}}]}}},{field:"allowOther",name:"$t:interfaces.select-dropdown.allow_other",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_other_label"}},schema:{default_value:!1}},{field:"allowNone",name:"$t:interfaces.select-dropdown.allow_none",type:"boolean",meta:{width:"half",interface:"boolean",options:{label:"$t:interfaces.select-dropdown.allow_none_label"}},schema:{default_value:!1}},{field:"icon",name:"$t:icon",type:"string",meta:{width:"half",interface:"select-icon"}},{field:"placeholder",name:"$t:placeholder",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"yesButtonText",name:"Yes button text",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}},{field:"noButtonText",name:"No button text",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{placeholder:"$t:enter_a_placeholder"}}}],recommendedDisplays:["labels"]};export{y as default};
